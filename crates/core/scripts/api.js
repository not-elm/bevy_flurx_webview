var __FLURX_IIFE__=function(e){"use strict";let t=0;const i={},n={},_=(e,n=null)=>new Promise(((_,s)=>{const o=t++;window.ipc.postMessage(JSON.stringify((t=>null==t?{type:"Command",message:{id:e,resolve_id:o}}:{type:"Command",message:{id:e,args:JSON.stringify(t),resolve_id:o}})(n))),i[o]=e=>{_(e),delete i[o]}})),s=(e,t)=>{window.ipc.postMessage(JSON.stringify({type:"Event",message:{event_id:e,payload:JSON.stringify(t)}}))};var o=Object.freeze({__proto__:null,exit:()=>_("FLURX|app::exit"),getName:()=>_("FLURX|app::get_name"),getVersion:()=>_("FLURX|app::get_version")});var r=Object.freeze({__proto__:null,println:e=>s("FLURX|log::println",{message:e})});return e.__emitEvent=(e,t)=>{n[e]?.(t)},e.__resolveIpc=(e,t)=>{i[e]?.(t)},e.app=o,e.emit=s,e.invoke=_,e.listen=(e,t)=>(n[e]=t,()=>{delete n[e]}),e.log=r,e}({});Object.defineProperty(window,"__FLURX__",{value:__FLURX_IIFE__});
